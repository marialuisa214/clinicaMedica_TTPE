{"ast":null,"code":"import React,{useState}from'react';import{Container,Paper,TextField,Button,Typography,Box,Alert,CircularProgress}from'@mui/material';import{useNavigate,useLocation}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const Login=()=>{var _location$state,_location$state$from;const[credentials,setCredentials]=useState({usuario:'',senha:''});const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const{login}=useAuth();const navigate=useNavigate();const location=useLocation();const from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/dashboard';const handleInputChange=field=>event=>{setCredentials(prev=>({...prev,[field]:event.target.value}));setError(null);};const handleSubmit=async event=>{event.preventDefault();setLoading(true);setError(null);try{const success=await login(credentials);if(success){navigate(from,{replace:true});}else{setError('Usuário ou senha incorretos');}}catch(error){setError('Erro ao fazer login. Tente novamente.');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"sm\",sx:{height:'100vh',display:'flex',alignItems:'center',justifyContent:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,display:'flex',flexDirection:'column',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",gutterBottom:true,children:\"Cl\\xEDnica M\\xE9dica\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"textSecondary\",gutterBottom:true,children:\"Sistema de Gest\\xE3o Hospitalar\"}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:3,width:'100%'},children:[error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{mb:2},children:error}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"usuario\",label:\"Usu\\xE1rio\",name:\"usuario\",autoComplete:\"username\",autoFocus:true,value:credentials.usuario,onChange:handleInputChange('usuario'),disabled:loading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"senha\",label:\"Senha\",type:\"password\",id:\"senha\",autoComplete:\"current-password\",value:credentials.senha,onChange:handleInputChange('senha'),disabled:loading}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",size:\"large\",disabled:loading,sx:{mt:3,mb:2},children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24,color:\"inherit\"}):'Entrar'}),/*#__PURE__*/_jsx(Box,{sx:{mt:3,textAlign:'center'},children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:\"Sistema destinado apenas para funcion\\xE1rios autorizados\"})})]})]})});};","map":{"version":3,"names":["React","useState","Container","Paper","TextField","Button","Typography","Box","Alert","CircularProgress","useNavigate","useLocation","useAuth","jsx","_jsx","jsxs","_jsxs","Login","_location$state","_location$state$from","credentials","setCredentials","usuario","senha","loading","setLoading","error","setError","login","navigate","location","from","state","pathname","handleInputChange","field","event","prev","target","value","handleSubmit","preventDefault","success","replace","component","maxWidth","sx","height","display","alignItems","justifyContent","children","elevation","padding","flexDirection","width","variant","gutterBottom","color","onSubmit","mt","severity","mb","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","disabled","type","size","textAlign"],"sources":["/home/maria/Documentos/faculdade/ttpe/ia/clinicaMedica_TTPE/web/src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Alert,\n  CircularProgress,\n} from '@mui/material';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { LoginRequest } from '../types';\n\nexport const Login: React.FC = () => {\n  const [credentials, setCredentials] = useState<LoginRequest>({\n    usuario: '',\n    senha: '',\n  });\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n\n  const { login } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const from = (location.state as any)?.from?.pathname || '/dashboard';\n\n  const handleInputChange = (field: keyof LoginRequest) => (\n    event: React.ChangeEvent<HTMLInputElement>\n  ) => {\n    setCredentials(prev => ({\n      ...prev,\n      [field]: event.target.value,\n    }));\n    setError(null);\n  };\n\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    setLoading(true);\n    setError(null);\n\n    try {\n      const success = await login(credentials);\n      if (success) {\n        navigate(from, { replace: true });\n      } else {\n        setError('Usuário ou senha incorretos');\n      }\n    } catch (error) {\n      setError('Erro ao fazer login. Tente novamente.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container\n      component=\"main\"\n      maxWidth=\"sm\"\n      sx={{\n        height: '100vh',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n      }}\n    >\n      <Paper\n        elevation={3}\n        sx={{\n          padding: 4,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n          width: '100%',\n        }}\n      >\n        <Typography component=\"h1\" variant=\"h4\" gutterBottom>\n          Clínica Médica\n        </Typography>\n        <Typography variant=\"h6\" color=\"textSecondary\" gutterBottom>\n          Sistema de Gestão Hospitalar\n        </Typography>\n\n        <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 3, width: '100%' }}>\n          {error && (\n            <Alert severity=\"error\" sx={{ mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"usuario\"\n            label=\"Usuário\"\n            name=\"usuario\"\n            autoComplete=\"username\"\n            autoFocus\n            value={credentials.usuario}\n            onChange={handleInputChange('usuario')}\n            disabled={loading}\n          />\n\n          <TextField\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"senha\"\n            label=\"Senha\"\n            type=\"password\"\n            id=\"senha\"\n            autoComplete=\"current-password\"\n            value={credentials.senha}\n            onChange={handleInputChange('senha')}\n            disabled={loading}\n          />\n\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            size=\"large\"\n            disabled={loading}\n            sx={{ mt: 3, mb: 2 }}\n          >\n            {loading ? (\n              <CircularProgress size={24} color=\"inherit\" />\n            ) : (\n              'Entrar'\n            )}\n          </Button>\n\n          <Box sx={{ mt: 3, textAlign: 'center' }}>\n            <Typography variant=\"body2\" color=\"textSecondary\">\n              Sistema destinado apenas para funcionários autorizados\n            </Typography>\n          </Box>\n        </Box>\n      </Paper>\n    </Container>\n  );\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}