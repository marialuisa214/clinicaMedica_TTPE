{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate,useLocation}from'react-router-dom';import{Container,Paper,TextField,Button,Typography,Box,Alert,CircularProgress}from'@mui/material';import{LocalHospital}from'@mui/icons-material';import{useAuth}from'../contexts/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const LoginPage=()=>{var _location$state,_location$state$from;const[usuario,setUsuario]=useState('');const[senha,setSenha]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const{login,user}=useAuth();const navigate=useNavigate();const location=useLocation();const from=((_location$state=location.state)===null||_location$state===void 0?void 0:(_location$state$from=_location$state.from)===null||_location$state$from===void 0?void 0:_location$state$from.pathname)||'/dashboard';useEffect(()=>{if(user){navigate(from,{replace:true});}},[user,navigate,from]);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setError('');try{await login({usuario,senha});navigate(from,{replace:true});}catch(err){setError(err.message||'Erro ao fazer login');}finally{setLoading(false);}};return/*#__PURE__*/_jsx(Container,{component:\"main\",maxWidth:\"xs\",children:/*#__PURE__*/_jsx(Box,{sx:{marginTop:8,display:'flex',flexDirection:'column',alignItems:'center'},children:/*#__PURE__*/_jsxs(Paper,{elevation:3,sx:{padding:4,display:'flex',flexDirection:'column',alignItems:'center',width:'100%'},children:[/*#__PURE__*/_jsx(LocalHospital,{sx:{fontSize:48,color:'primary.main',mb:2}}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h4\",gutterBottom:true,children:\"Cl\\xEDnica M\\xE9dica\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",color:\"text.secondary\",gutterBottom:true,children:\"Sistema de Gest\\xE3o\"}),error&&/*#__PURE__*/_jsx(Alert,{severity:\"error\",sx:{width:'100%',mb:2},children:error}),/*#__PURE__*/_jsxs(Box,{component:\"form\",onSubmit:handleSubmit,sx:{mt:1,width:'100%'},children:[/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,id:\"usuario\",label:\"Usu\\xE1rio\",name:\"usuario\",autoComplete:\"username\",autoFocus:true,value:usuario,onChange:e=>setUsuario(e.target.value),disabled:loading}),/*#__PURE__*/_jsx(TextField,{margin:\"normal\",required:true,fullWidth:true,name:\"senha\",label:\"Senha\",type:\"password\",id:\"senha\",autoComplete:\"current-password\",value:senha,onChange:e=>setSenha(e.target.value),disabled:loading}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",sx:{mt:3,mb:2},disabled:loading,children:loading?/*#__PURE__*/_jsx(CircularProgress,{size:24}):'Entrar'})]}),/*#__PURE__*/_jsxs(Box,{sx:{mt:2,textAlign:'center'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:\"Credenciais de teste:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",display:\"block\",children:\"Admin: admin / admin123\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",display:\"block\",children:\"M\\xE9dico: medico01 / medico123\"}),/*#__PURE__*/_jsx(Typography,{variant:\"caption\",display:\"block\",children:\"Atendente: atendente01 / atendente123\"})]})]})})});};export default LoginPage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useLocation","Container","Paper","TextField","Button","Typography","Box","Alert","CircularProgress","LocalHospital","useAuth","jsx","_jsx","jsxs","_jsxs","LoginPage","_location$state","_location$state$from","usuario","setUsuario","senha","setSenha","loading","setLoading","error","setError","login","user","navigate","location","from","state","pathname","replace","handleSubmit","e","preventDefault","err","message","component","maxWidth","children","sx","marginTop","display","flexDirection","alignItems","elevation","padding","width","fontSize","color","mb","variant","gutterBottom","severity","onSubmit","mt","margin","required","fullWidth","id","label","name","autoComplete","autoFocus","value","onChange","target","disabled","type","size","textAlign"],"sources":["/home/maria/Documentos/faculdade/ttpe/ia/clinicaMedica_TTPE/web/src/pages/LoginPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate, useLocation } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  TextField,\n  Button,\n  Typography,\n  Box,\n  Alert,\n  CircularProgress\n} from '@mui/material';\nimport { LocalHospital } from '@mui/icons-material';\nimport { useAuth } from '../contexts/AuthContext';\n\nconst LoginPage: React.FC = () => {\n  const [usuario, setUsuario] = useState('');\n  const [senha, setSenha] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n\n  const { login, user } = useAuth();\n  const navigate = useNavigate();\n  const location = useLocation();\n\n  const from = location.state?.from?.pathname || '/dashboard';\n\n  useEffect(() => {\n    if (user) {\n      navigate(from, { replace: true });\n    }\n  }, [user, navigate, from]);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setLoading(true);\n    setError('');\n\n    try {\n      await login({ usuario, senha });\n      navigate(from, { replace: true });\n    } catch (err: any) {\n      setError(err.message || 'Erro ao fazer login');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <Box\n        sx={{\n          marginTop: 8,\n          display: 'flex',\n          flexDirection: 'column',\n          alignItems: 'center',\n        }}\n      >\n        <Paper\n          elevation={3}\n          sx={{\n            padding: 4,\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            width: '100%'\n          }}\n        >\n          <LocalHospital sx={{ fontSize: 48, color: 'primary.main', mb: 2 }} />\n          \n          <Typography component=\"h1\" variant=\"h4\" gutterBottom>\n            Clínica Médica\n          </Typography>\n          \n          <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n            Sistema de Gestão\n          </Typography>\n\n          {error && (\n            <Alert severity=\"error\" sx={{ width: '100%', mb: 2 }}>\n              {error}\n            </Alert>\n          )}\n\n          <Box component=\"form\" onSubmit={handleSubmit} sx={{ mt: 1, width: '100%' }}>\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"usuario\"\n              label=\"Usuário\"\n              name=\"usuario\"\n              autoComplete=\"username\"\n              autoFocus\n              value={usuario}\n              onChange={(e) => setUsuario(e.target.value)}\n              disabled={loading}\n            />\n            <TextField\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"senha\"\n              label=\"Senha\"\n              type=\"password\"\n              id=\"senha\"\n              autoComplete=\"current-password\"\n              value={senha}\n              onChange={(e) => setSenha(e.target.value)}\n              disabled={loading}\n            />\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              sx={{ mt: 3, mb: 2 }}\n              disabled={loading}\n            >\n              {loading ? <CircularProgress size={24} /> : 'Entrar'}\n            </Button>\n          </Box>\n\n          <Box sx={{ mt: 2, textAlign: 'center' }}>\n            <Typography variant=\"body2\" color=\"text.secondary\">\n              Credenciais de teste:\n            </Typography>\n            <Typography variant=\"caption\" display=\"block\">\n              Admin: admin / admin123\n            </Typography>\n            <Typography variant=\"caption\" display=\"block\">\n              Médico: medico01 / medico123\n            </Typography>\n            <Typography variant=\"caption\" display=\"block\">\n              Atendente: atendente01 / atendente123\n            </Typography>\n          </Box>\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default LoginPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}